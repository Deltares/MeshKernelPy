<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Curvilinear grid generation with defined extension &mdash; MeshKernelPy 2.1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="MeshKernelPy" href="../api/modules.html" />
    <link rel="prev" title="Mesh2d refinement based on Gebco gridded samples" href="06_mesh2d_refinement_gridded_samples_gebco.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            MeshKernelPy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01_mesh2d_basics.html">Mesh2d Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="02_mesh1d_basics.html">Mesh1d basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_tri_mesh2d_pol.html">Simple triangular mesh in a given geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_curvilineargrid_basics.html">Curvilineargrid Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="05_mesh2d_refinement_gridded_samples.html">Mesh2d refinement based on gridded samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_mesh2d_refinement_gridded_samples_gebco.html">Mesh2d refinement based on Gebco gridded samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_mesh2d_refinement_gridded_samples_gebco.html#generating-a-mesh-of-defined-extension">1. Generating a mesh of defined extension</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_mesh2d_refinement_gridded_samples_gebco.html#saving-the-generated-mesh-to-ugrid-file">2. Saving the generated mesh to UGrid file</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_mesh2d_refinement_gridded_samples_gebco.html#reading-bathymetric-data-form-a-large-netdfc-file">3. Reading bathymetric data form a large NetDFC file</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_mesh2d_refinement_gridded_samples_gebco.html#performing-mesh-refinement-based-on-gridded-data">4. Performing mesh refinement based on gridded data</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Curvilinear grid generation with defined extension</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/modules.html">MeshKernelPy</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MeshKernelPy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Examples</a></li>
      <li class="breadcrumb-item active">Curvilinear grid generation with defined extension</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/examples/07_curvilineargrid_with_defined_extension.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="curvilinear-grid-generation-with-defined-extension">
<h1>Curvilinear grid generation with defined extension<a class="headerlink" href="#curvilinear-grid-generation-with-defined-extension" title="Permalink to this heading"></a></h1>
<p>This is a brief introduction to the process of generating curvilinear grid with a defined extension.</p>
<p>At the very beginning, the necessary libraries have to be imported.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">meshkernel</span> <span class="kn">import</span> <span class="n">GeometryList</span><span class="p">,</span> <span class="n">GriddedSamples</span><span class="p">,</span> <span class="n">MakeGridParameters</span><span class="p">,</span> <span class="n">MeshKernel</span><span class="p">,</span> <span class="n">MeshRefinementParameters</span><span class="p">,</span> <span class="n">ProjectionType</span><span class="p">,</span> <span class="n">RefinementType</span>
</pre></div>
</div>
</div>
</div>
<section id="create-a-curvilinear-grid-in-a-spherical-system">
<h2>Create a curvilinear grid in a spherical system<a class="headerlink" href="#create-a-curvilinear-grid-in-a-spherical-system" title="Permalink to this heading"></a></h2>
<p>The grid will extend from the origin to the upper right corner, automatically computing the number of rows and columns while adjusting the latitude to preserve an aspect ratio close to one in real-world distances.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lon_min</span><span class="p">,</span><span class="n">lon_max</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mf">0.2</span>
<span class="n">lat_min</span><span class="p">,</span><span class="n">lat_max</span> <span class="o">=</span> <span class="mf">49.1</span><span class="p">,</span><span class="mf">49.6</span>
<span class="n">lon_res</span><span class="p">,</span><span class="n">lat_res</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span>

<span class="n">make_grid_parameters</span> <span class="o">=</span> <span class="n">MakeGridParameters</span><span class="p">()</span>
<span class="n">make_grid_parameters</span><span class="o">.</span><span class="n">origin_x</span> <span class="o">=</span> <span class="n">lon_min</span>
<span class="n">make_grid_parameters</span><span class="o">.</span><span class="n">origin_y</span> <span class="o">=</span> <span class="n">lat_min</span>
<span class="n">make_grid_parameters</span><span class="o">.</span><span class="n">upper_right_x</span> <span class="o">=</span> <span class="n">lon_max</span>
<span class="n">make_grid_parameters</span><span class="o">.</span><span class="n">upper_right_y</span> <span class="o">=</span> <span class="n">lat_max</span>
<span class="n">make_grid_parameters</span><span class="o">.</span><span class="n">block_size_x</span> <span class="o">=</span> <span class="n">lon_res</span>
<span class="n">make_grid_parameters</span><span class="o">.</span><span class="n">block_size_y</span> <span class="o">=</span> <span class="n">lat_res</span>

<span class="n">mk</span> <span class="o">=</span> <span class="n">MeshKernel</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">ProjectionType</span><span class="o">.</span><span class="n">SPHERICAL</span><span class="p">)</span>
<span class="n">mk</span><span class="o">.</span><span class="n">curvilinear_compute_rectangular_grid_on_extension</span><span class="p">(</span><span class="n">make_grid_parameters</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Convert the curvilinear mesh to an unstructured mesh</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mk</span><span class="o">.</span><span class="n">curvilinear_convert_to_mesh2d</span><span class="p">()</span> 
</pre></div>
</div>
</div>
</div>
<p>Plot the mesh</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mesh2d</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">mesh2d_get</span><span class="p">()</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">mesh2d</span><span class="o">.</span><span class="n">plot_edges</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/4bdce1efe5aff33c1d04e84a407a7e469b4bce1cb02e34051f9ffc828bd3523b.png" src="../_images/4bdce1efe5aff33c1d04e84a407a7e469b4bce1cb02e34051f9ffc828bd3523b.png" />
</div>
</div>
</section>
<section id="create-a-curvilinear-grid-in-a-cartesian-system">
<h2>Create a curvilinear grid in a cartesian system<a class="headerlink" href="#create-a-curvilinear-grid-in-a-cartesian-system" title="Permalink to this heading"></a></h2>
<p>In the cartesian case no adjustment of the y coordinate is required</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">min_x</span><span class="p">,</span><span class="n">min_y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
<span class="n">max_x</span><span class="p">,</span><span class="n">max_y</span> <span class="o">=</span> <span class="mf">10.0</span><span class="p">,</span><span class="mf">10.0</span>
<span class="n">block_size_x</span><span class="p">,</span><span class="n">block_size_y</span> <span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span>

<span class="n">make_grid_parameters</span> <span class="o">=</span> <span class="n">MakeGridParameters</span><span class="p">()</span>
<span class="n">make_grid_parameters</span><span class="o">.</span><span class="n">origin_x</span> <span class="o">=</span> <span class="n">min_x</span>
<span class="n">make_grid_parameters</span><span class="o">.</span><span class="n">origin_y</span> <span class="o">=</span> <span class="n">min_y</span>
<span class="n">make_grid_parameters</span><span class="o">.</span><span class="n">upper_right_x</span> <span class="o">=</span> <span class="n">max_x</span>
<span class="n">make_grid_parameters</span><span class="o">.</span><span class="n">upper_right_y</span> <span class="o">=</span> <span class="n">max_y</span>
<span class="n">make_grid_parameters</span><span class="o">.</span><span class="n">block_size_x</span> <span class="o">=</span> <span class="n">block_size_x</span>
<span class="n">make_grid_parameters</span><span class="o">.</span><span class="n">block_size_y</span> <span class="o">=</span> <span class="n">block_size_y</span>

<span class="n">mk</span> <span class="o">=</span> <span class="n">MeshKernel</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">ProjectionType</span><span class="o">.</span><span class="n">CARTESIAN</span><span class="p">)</span>
<span class="n">mk</span><span class="o">.</span><span class="n">curvilinear_compute_rectangular_grid_on_extension</span><span class="p">(</span><span class="n">make_grid_parameters</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Convert the curvilinear mesh to an unstructured mesh</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mk</span><span class="o">.</span><span class="n">curvilinear_convert_to_mesh2d</span><span class="p">()</span> 
</pre></div>
</div>
</div>
</div>
<p>Plot the mesh</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mesh2d</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">mesh2d_get</span><span class="p">()</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">mesh2d</span><span class="o">.</span><span class="n">plot_edges</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/7c30da4225639e2031ce91ea04080042a57d9dc30c01d7139df0e9cc4f64c49f.png" src="../_images/7c30da4225639e2031ce91ea04080042a57d9dc30c01d7139df0e9cc4f64c49f.png" />
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="06_mesh2d_refinement_gridded_samples_gebco.html" class="btn btn-neutral float-left" title="Mesh2d refinement based on Gebco gridded samples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../api/modules.html" class="btn btn-neutral float-right" title="MeshKernelPy" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Deltares.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>